{"componentChunkName":"component---src-templates-blog-post-js","path":"/ssh/","result":{"data":{"site":{"siteMetadata":{"title":"EPI2MELabs"}},"markdownRemark":{"id":"894e9e7c-55c0-573b-90f2-7eda2e7e8b9b","excerpt":"Introduction to running things remotely This blog post is a short introduction to running epi2me labs on a remote machine that you have access to. This means…","html":"<h3>Introduction to running things remotely</h3>\n<p>This blog post is a short introduction to running epi2me labs on a remote machine that you have access to.<br>\nThis means you can still use the straight forward graphical interface for running the applications while utilising the\ngreater compute power available on these remote servers.<br>\nThis is useful for those who have a separate computer that is more powerful than the one they’re currently operating.\nThis is a common setup in research institutions where you may have a less powerful work laptop and access to a much more\npowerful server for running more intensive software. (It is also possible to use this to bypass more stringent network controls!)</p>\n<p>To do this we will be using <code class=\"language-text\">ssh</code>.  SSH (Secure Shell) is a method that enables you to run commands on a remote machine from your local machine safely.\nThis can be achieved using an ssh client -  a program that can establish this kind of connection. UNIX-style systems e.g.\nOSX/ubuntu etc can create an SSH tunnel via the command ssh. \nIf you habitually run software on a separate server then you will already be familiar with this command to connect to a terminal on your server:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ssh &lt;server></span>\n\n<span class=\"token function\">ssh</span> myserver</code></pre></div>\n<p>With some additional arguments you can set this up so that information that is exposed on a particular port is presented on your host\nmachine as if it were your remote machine. </p>\n<h3>Setting up an SSH Tunnel for EPI2ME Labs</h3>\n<p>It is important that the port that you provide is not currently being used by something else.\nThis means that if you are running the EPI2MELabs Launcher on your local machine then you will need to change some of the configuration\nif you want to run the remote version at the same time.  This will be discussed below.</p>\n<p>EPI2MELabs Launcher by default uses two ports, 8888 and 8889. \nThis can be customised in the GUI version of the launcher in the settings/preferences dialogue. \nWe build on the first ssh command by adding a couple of command line args and port information. \nThis:</p>\n<ul>\n<li><code class=\"language-text\">-X</code> or <code class=\"language-text\">-Y</code>: Tells your remote machine that you want the application displays from your remote machine on your local machine (X11 forwarding).  Please note that -X is more secure but might render things slower, -Y is faster but less secure, you should only use this on servers that you trust as much as your local machine.</li>\n<li><code class=\"language-text\">-L</code> Connect specific ports e.g.  so that when you look at 8888 in your browser you are actually looking at what 8888 is displaying -on your remote machine. </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># -X Enables X11 forwarding</span>\n<span class=\"token comment\"># -L Which port/sockets to on the local (client) host are to be forwarded to the remote machine</span>\n<span class=\"token comment\"># destination </span>\n\n<span class=\"token function\">ssh</span> -X -L <span class=\"token number\">8888</span>:localhost:8888 -L <span class=\"token number\">8889</span>:localhost:8889 myserver</code></pre></div>\n<h3>Troubleshooting (skip this step if launcher window loads correctly)</h3>\n<p>If you run this command and the launcher window does not appear on your host machine and you get the error message:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Error: Can't <span class=\"token function\">open</span> display: </code></pre></div>\n<p>This means that is isn’t sure where to display the GUI window.<br>\nOne way to achieve this is to tell the terminal that you want your GUI to display on your monitor. \nWe do this by assigning a value to the environment variable DISPLAY. \nBecause we only want this value to change while running this command and not change the environment\nvariable on your host machine in general we don’t export the variable but prepend the assignment\nto the ssh command (see example below).</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># &lt;VARIABLE&gt;=&lt;VALUE&gt; &lt;COMMAND&gt;\nDISPLAY=:0 ssh...\nSo the final command will be:</code></pre></div>\n<blockquote>\n<p><strong><em>NOTE:</em></strong> Remember to replace myserver with your server address!</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DISPLAY=:0 ssh -Y -L 8888:localhost:8888 -L 8889:localhost:8889 myserver</code></pre></div>\n<p>If this doesn’t work please contact your local IT department as there may be custom configurations peculiar to your setup to be made.</p>\n<h3>Navigating to the EPI2ME Labs landing page</h3>\n<p>Then once you are on the remote machine, run the launcher as you would do normally. You can run the headless or GUI version of the launcher and connect to it like you would normally in your browser.</p>\n<p>Open your web browser and go to:</p>\n<p>(<a href=\"https://localhost:8888\">https://localhost:8888</a>)[https://localhost:8888]</p>\n<p>If your launcher is running you should be now faced with the jupyter login page.  You need to enter the token for your launcher.</p>\n<blockquote>\n<p><strong><em>NOTE:</em></strong> The default token is “EPI2MELabs” however we recommend that you change this when appropriate.</p>\n</blockquote>","frontmatter":{"title":"Running epi2me labs on remote computers","date":"March 17, 2021","description":"How to run epi2me labs on remote computers."}}},"pageContext":{"slug":"/ssh/","previous":{"fields":{"slug":"/nextflow/"},"frontmatter":{"title":"EPI2ME Labs Embraces Nextflow"}},"next":null}},"staticQueryHashes":["1462070832","240262808","2841359383"]}